[TOC]

# 基于PID的四旋翼无人机轨迹跟踪控制

## 三维笔记说明

### 一、展示三维平面四旋翼8字形轨迹跟踪（以其为例）

![基于PID的三维平面四旋翼8字形轨迹跟踪](/imgs/2025-05-04/XCa9LOXWW6ZH955l.png "基于PID的三维平面四旋翼8字形轨迹跟踪")

### 二、状态方程解读

### **状态方程体系**

### ​**1、系统状态变量**

$$
\mathbf{x} = \left\{
\begin{array}{ll}
    \text{位置:}       & x, y, z \\
    \text{线速度:}    & v_x, v_y, v_z \\
    \text{姿态角:}    & \phi, \theta, \psi \\
    \text{角速度:}    & \omega_\phi, \omega_\theta, \omega_\psi
\end{array}
\right\}, \quad
\mathbf{u} = \left\{
\begin{array}{ll}
    \text{力:}       & F_x, F_y, F_z \\
    \text{力矩:}     & M_\phi, M_\theta, M_\psi
\end{array}
\right\}
$$

-   ​**位置**: x,y,z
-   ​**线速度**: v~x~​,v~y~​,v~z~​
-   ​**姿态角（欧拉角）​**:  ψ（偏航角），ϕ（横滚角）, θ（俯仰角）
-   ​**角速度**: ω~ϕ~​,ω~θ~​,ω~ψ​~
-   ​**控制输入**:
    -   F~x~​,F~y~​,F~z~​：x/y/z轴方向的控制力
    -   M~ϕ​~,M~θ~​,M~ψ~​：绕各轴的力矩

----------

### ​**2、三维状态方程**

#### ​**1. 位置动力学**

$$
\begin{cases} 
\dot{x} = v_x \\ \\
\dot{y} = v_y \\ \\
\dot{z} = v_z 
\end{cases}
$$

#### **2. 线速度动力学**

由牛顿第二定律推导（含重力补偿）：

$$
\begin{cases} 
\dot{v}_x = \frac{F_x}{m} \\ \\
\dot{v}_y = \frac{F_y}{m} \\ \\
\dot{v}_z = \frac{F_z}{m} - g 
\end{cases}
$$

#### ​**3. 姿态角动力学**

姿态角变化率等于对应角速度：


$$
\begin{cases} 
\dot{ψ} = ω_ψ \\ \\
\dot{ϕ} = ω_ϕ \\ \\
\dot{θ} = ω_θ \\ 
\end{cases}
$$

#### ​**4. 角速度动力学**

由欧拉方程推导（转动惯量 J~x~​,J~y~​,J~z~​）：


$$
\begin{cases} 
\dot{ω}_ϕ = -\frac{M_ϕ}{J_x} \\ \\
\dot{ω}_θ = -\frac{M_θ}{J_y} \\ \\
\dot{ω}_ψ = -\frac{M_ψ}{J_z}
\end{cases}
$$
#### **1. 位置动力学**

1.  $$ \dot{x} =vx\dot{x} = v_xx˙= v_x $$

    -   ​**物理意义**：x方向位置变化率等于x方向速度
    -   ​**动力学层级**：运动学方程（位置与速度的关系）
    
1.  $$ \dot{y} =vy\dot{y} = v_yy˙= v_y $$

    -   ​**物理意义**：y方向位置变化率等于y方向速度
    -   ​**动力学层级**：运动学方程（位置与速度的关系）
    
2.  $$ ​\dot{z}=vz\dot{z} = v_zz˙=vz​ $$
    
    -   ​**物理意义**：z方向（垂直方向）位置变化率等于z方向速度
    -   ​**动力学层级**：运动学方程（位置与速度的关系）
    
3.  $$ ϕ˙=ω\dot{\phi} = ω $$    
    -   ​**物理意义**：四旋翼俯仰角（绕x轴的旋转角度）变化率等于角速度
    -   ​**动力学层级**：旋转运动学方程（角度与角速度的关系）

----------

4.  ​$$ \dot{v}_y = \frac{F \sin \phi}{m} $$
    
    -   ​**物理意义**：y方向加速度由推力的水平分量产生
    -   ​**关键参数**：
        -   F：旋翼总推力（控制输入）
        -   ϕ\phi：俯仰角（推力方向控制）
        -   m：四旋翼质量
    -   ​**动力学层级**：平移动力学方程（牛顿第二定律）
    
5.   $$ \dot{v}_z = \frac{F \cos \phi}{m} - g $$
    
   -   ​**物理意义**：z方向加速度由推力的垂直分量减去重力加速度
    -   ​**关键参数**：
        -   g：重力加速度（向下作用）
   -   ​**动力学层级**：平移动力学方程（含重力补偿）
    
6.   $$ \dot{\omega} = -\frac{1}{J} M $$
    
   -   ​**物理意义**：角加速度由力矩驱动，负号表示力矩方向与旋转方向定义相反
    -   ​**关键参数**：
        -   M：力矩（控制输入）
        -   J：转动惯量
   -   ​**动力学层级**：旋转动力学方程（角动量定理）

### 三、轨迹生成


![三维轨迹生成](/imgs/2025-05-04/n5O7dN3UI0TOlHs7.png "三维轨迹生成")
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTc3MjU4NDE2MCwyMDU1MTc2ODRdfQ==
-->